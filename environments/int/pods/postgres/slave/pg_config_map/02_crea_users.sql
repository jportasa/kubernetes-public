CREATE ROLE app;
ALTER ROLE app WITH NOSUPERUSER NOINHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS VALID UNTIL 'infinity';
CREATE ROLE appath;
ALTER ROLE appath WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appath' VALID UNTIL 'infinity';
CREATE ROLE appaud;
ALTER ROLE appaud WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appaud' VALID UNTIL 'infinity';
CREATE ROLE appcredit;
ALTER ROLE appcredit WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appcredit' VALID UNTIL 'infinity';
CREATE ROLE appdocdrive;
ALTER ROLE appdocdrive WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appdocdrive' VALID UNTIL 'infinity';
CREATE ROLE appgeo;
ALTER ROLE appgeo WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appgeo' VALID UNTIL 'infinity';
CREATE ROLE appint;
ALTER ROLE appint WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appint' VALID UNTIL 'infinity';
CREATE ROLE appntf;
ALTER ROLE appntf WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appntf' VALID UNTIL 'infinity';
CREATE ROLE apppus;
ALTER ROLE apppus WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'apppus' VALID UNTIL 'infinity';
CREATE ROLE appsms;
ALTER ROLE appsms WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appsms' VALID UNTIL 'infinity';
CREATE ROLE apptrk;
ALTER ROLE apptrk WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'apptrk' VALID UNTIL 'infinity';
CREATE ROLE appwtn;
ALTER ROLE appwtn WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'appwtn' VALID UNTIL 'infinity';
CREATE ROLE dba;
ALTER ROLE dba WITH SUPERUSER INHERIT CREATEROLE CREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS VALID UNTIL 'infinity';
CREATE ROLE deploy;
ALTER ROLE deploy WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'deploy';
CREATE ROLE dev;
ALTER ROLE dev WITH NOSUPERUSER NOINHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS VALID UNTIL 'infinity';
CREATE ROLE install;
ALTER ROLE install WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB NOLOGIN NOREPLICATION NOBYPASSRLS VALID UNTIL 'infinity';
CREATE ROLE nagios;
ALTER ROLE nagios WITH SUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS PASSWORD 'nagios' VALID UNTIL 'infinity';
CREATE ROLE pentaho;
ALTER ROLE pentaho WITH NOSUPERUSER INHERIT NOCREATEROLE NOCREATEDB LOGIN NOREPLICATION NOBYPASSRLS;
CREATE ROLE repmgr;
ALTER ROLE repmgr WITH SUPERUSER INHERIT CREATEROLE CREATEDB LOGIN NOREPLICATION NOBYPASSRLS;

GRANT app TO appath GRANTED BY postgres;
GRANT app TO appaud GRANTED BY postgres;
GRANT app TO appcredit GRANTED BY postgres;
GRANT app TO appdocdrive GRANTED BY postgres;
GRANT app TO appgeo GRANTED BY postgres;
GRANT app TO appint GRANTED BY postgres;
GRANT app TO appntf GRANTED BY postgres;
GRANT app TO apppus GRANTED BY postgres;
GRANT app TO appsms GRANTED BY postgres;
GRANT app TO apptrk GRANTED BY postgres;
GRANT app TO appwtn GRANTED BY postgres;
GRANT app TO deploy GRANTED BY postgres;
GRANT dev TO pentaho GRANTED BY postgres;

ALTER ROLE appwtn IN DATABASE wtndbdev SET search_path TO wtn4;
ALTER ROLE apptrk IN DATABASE wtndbdev SET search_path TO trk;
ALTER ROLE appntf IN DATABASE wtndbdev SET search_path TO ntf;
ALTER ROLE appint IN DATABASE wtndbdev SET search_path TO "int";
ALTER ROLE appaud IN DATABASE wtndbdev SET search_path TO wtn4;
ALTER ROLE appath IN DATABASE wtndbdev SET search_path TO wtn4;
ALTER ROLE apppus IN DATABASE wtndbdev SET search_path TO wtn4;
ALTER ROLE appsms IN DATABASE wtndbdev SET search_path TO wtn4;
ALTER ROLE appgeo IN DATABASE wtndbdev SET search_path TO geo;
ALTER ROLE appcredit IN DATABASE wtndbdev SET search_path TO credit;
ALTER ROLE appdocdrive IN DATABASE wtndbdev SET search_path TO docdrive;

